version: '2'
services:
    gateway:
        build: gateway/
        ports:
            - "8000:8000"
        expose:
            - 8000
        entrypoint: ./gateway config.yml
    users:
        build: users/
        ports:
            - "8080:8080"
        expose:
            - 8080
        depends_on:
            - gateway
        entrypoint: ./users config.yml
        links:
            - gateway
            - mysql
    mysql:
      image: mysql:5.6.26
      environment:
       - MYSQL_ROOT_PASSWORD=root
       - MYSQL_DATABASE=password
      ports:
        - "3306:3306"
      expose:
        - 3306
